<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Happy 3 Years ❤️</title>
<style>
body {
  margin: 0;
  background: #fff6cc; /* pastel yellow */
  overflow: hidden;
}
canvas {
  image-rendering: pixelated;
  display: block;
}
</style>
</head>

<body>
<canvas id="c"></canvas>

<script>
const c = document.getElementById("c");
const ctx = c.getContext("2d");

/* pixel scale */
const SCALE = 3;

c.width = Math.floor(innerWidth / SCALE);
c.height = Math.floor(innerHeight / SCALE);
c.style.width = innerWidth + "px";
c.style.height = innerHeight + "px";

let scene = 1;
let frame = 0;

const pink = "#f6b1c3";
const blue = "#b8d8f6";
const red = "#ff4d6d";
const sparkleColor = "#ffffff";

let px = c.width/2 - 25;
let bx = c.width/2 + 25;

const sparkles = [];

function pxRect(x,y,w,h,color){
  ctx.fillStyle = color;
  ctx.fillRect(Math.round(x),Math.round(y),w,h);
}

function bunny(x,y,color){
  // ears
  pxRect(x-4,y-10,3,8,color);
  pxRect(x+1,y-10,3,8,color);

  // head
  pxRect(x-6,y-6,12,10,color);

  // eyes
  pxRect(x-3,y-3,1,1,"#000");
  pxRect(x+2,y-3,1,1,"#000");

  // body
  pxRect(x-7,y+4,14,10,color);

  // arms (hug)
  if(scene===3){
    pxRect(x-8,y+6,3,4,color);
    pxRect(x+5,y+6,3,4,color);
  }
}

function pixelHeart(x,y){
  const h = [
    "01100110",
    "11111111",
    "11111111",
    "01111110",
    "00111100",
    "00011000"
  ];
  for(let r=0;r<h.length;r++){
    for(let c2=0;c2<h[r].length;c2++){
      if(h[r][c2]==="1"){
        pxRect(x+c2,y+r,1,1,red);
      }
    }
  }
}

function addSparkle(){
  sparkles.push({
    x: Math.random()*c.width,
    y: Math.random()*c.height/1.3,
    life: 20
  });
}

function drawSparkles(){
  sparkles.forEach(s=>{
    s.life--;
    pxRect(s.x,s.y,1,1,sparkleColor);
    pxRect(s.x+1,s.y,1,1,sparkleColor);
    pxRect(s.x,s.y+1,1,1,sparkleColor);
  });
}

function pixelText(msg){
  ctx.fillStyle = "#7a0038";
  ctx.font = "8px monospace";
  ctx.textAlign = "center";
  ctx.fillText(msg,c.width/2,c.height-10);
}

function loop(){
  ctx.clearRect(0,0,c.width,c.height);
  frame++;

  let bounce = Math.sin(frame*0.12)*2;
  let y = c.height/2 + bounce;

  if(scene===1){
    bunny(c.width/2,y,pink);
    pixelText("i miss you so much...");
  }

  if(scene===2){
    bunny(c.width/2-30,y,pink);
    bunny(c.width/2+30,y,blue);
    pixelHeart(c.width/2-4,y+4);
    pixelText("im always the happiest when im with you");
  }

  if(scene===3){
    if(px < c.width/2-10) px++;
    if(bx > c.width/2+10) bx--;

    bunny(px,y,pink);
    bunny(bx,y,blue);
    pixelHeart(c.width/2-4,y+4);

    pixelText("Happy 3 Years my knight i love you ❤️");
  }

  if(Math.random()<0.4) addSparkle();
  drawSparkles();

  requestAnimationFrame(loop);
}

document.addEventListener("click",()=>{
  if(scene<3) scene++;
});

loop();
</script>
</body>
</html>